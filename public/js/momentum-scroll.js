!function t(r,n,e){function o(s,a){if(!n[s]){if(!r[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};r[s][0].call(l.exports,function(t){var n=r[s][1][t];return o(n?n:t)},l,l.exports,t,r,n,e)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<e.length;s++)o(e[s]);return o}({1:[function(t,r,n){function e(){this.round=1e3,this.RAF=null,this.momentums=[],this.inited=!1,this.running=0}function o(t,r,n){return t+"("+r+n+") "}var i=$(document);e.prototype.init=function(){return this.inited?void(this.inited=!0):(this.createMomentums(),$(window).on("scroll",function(){this.running||this.onScroll()}.bind(this)),void this.onScroll(!0))},e.prototype.stop=function(){window.cancelAnimationFrame(this.RAF)},e.prototype.createMomentums=function(t){t=t||"",this.momentums.length=0,$(t+" [data-momentum]").each(function(t,r){var n=$(r),e=n.data("momentum"),o={element:n,datas:[]};$.isArray(e)?(o.datas=e,o.datas.forEach(function(t){this.makeDefaults(n,t)}.bind(this)),this.addMomentum(o)):(o.datas.push(e),this.makeDefaults(n,o.datas[0]),this.addMomentum(o))}.bind(this))},e.prototype.makeDefaults=function(t,r){var n=$(window).height();r.scrollFrom=r["from-scroll"]||Math.max(0,t.offset().top-n),r.scrollDistance=r.distance||t.height()+n,r.scrollDistance=Math.max(Math.floor(r.scrollDistance),1),r.scrollTo=r["to-scroll"]||r.scrollFrom+r.scrollDistance,r.smoothness=r.smoothness||30,r.prev={},r.current={};for(key in r.props){var e=0,o=parseFloat(r.props[key],10),i=r.props[key].toString().replace(/[-\d\.]/g,"");0!==key.indexOf("scale")&&"opacity"!==key||(e=1),"translateZ"===key&&t.parent().css("perspective",800);r.prev[key]=e,r.props[key]={value:o,unit:i},r.current[key]={value:o,unit:i}}},e.prototype.addMomentum=function(t){this.momentums.push(t)},e.prototype.onScroll=function(t){this.running=0;for(var r=i.scrollTop(),n=0;n<this.momentums.length;++n){for(var e=this.momentums[n],s=!1,a="",u=0;u<e.datas.length;++u){var c=e.datas[u],l=c.smoothness;(t||0===l)&&(l=1);var m=r;m=Math.max(m,c.scrollFrom),m=Math.min(m,c.scrollTo);for(var h in c.props){var p=c.props[h].value,d=(c.props[h].unit,0);0!==h.indexOf("scale")&&"opacity"!==h||(d=1);var f=(p-d)*(m-c.scrollFrom)/(c.scrollTo-c.scrollFrom)+d,v=c.prev[h]+(f-c.prev[h])/l;v=Math.ceil(v*this.round)/this.round,v===c.prev[h]&&f===p&&(v=p),c.current[h].value=v,"opacity"===h?e.element.css("opacity",c.current[h].value):a+=o(h,c.current[h].value,c.current[h].unit),c.prev[h]!==c.current[h].value&&(c.prev[h]=c.current[h].value,this.running++,s=!0)}}s&&(this.running++,e.element.css("transform",a))}return 0===this.running?void this.stop():void(this.RAF=window.requestAnimationFrame(this.onScroll.bind(this,!1)))};var s=new e;s.init()},{}]},{},[1]);
//# sourceMappingURL=momentum-scroll.js.map
